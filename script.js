document.addEventListener("DOMContentLoaded", function() {

    i18next.init({
        lng: 'en',
        debug: true, 
        resources: {
            en: {
              translation: {
                "metaDescription": "Helpbuttons.org, cooperate with the world. The opensource tool for making collaborative networks.",
                "ogTitle": "Helpbuttons.org",
                "ogDescription": "Helpbuttons.org, cooperate with the world. The opensource tool for making collaborative networks.",
                "title": "Helpbuttons",
                "section1.normalText": "This is",
                "section1.nameText": "Helpbuttons",
                "section1.h2Text": "Make your own collaborative tools.",
                "section1.buttonText": "Start",
                "section2.h2Text": "Save money and time",
                "section2.pText": "An open-source, free tool designed to foster collaborative networks. Collaborate and federate with local groups or establish global connections, spanning various fields. Share community resources, developments, and achievements, both locally and globally. Make your own online market, elder assitance, food sharing, transport sharing app, etc with no effor.",
                "section2.buttonText": "Try Demo",
                "section3.h1Text": "¿Developer?",
                "section3.h2Text": "Try the software in your own server",
                "section3.buttonText": "Download",
                "section4.column1.h3Text": "Organize cooperation",
                "section4.column1.pText": "Establish a network tailored to your collective, enabling the publishing, assistance, communication, and organization of data all through a single tool.",
                "section4.column2.h3Text": "Choose your style",
                "section4.column2.pText": "Select your preferred method of cooperation. Utilize maps, lists, app aesthetic, and form options that best suit your objectives.",
                "section4.column3.h3Text": "Maintain privacy",
                "section4.column3.pText": "Cooperate without revealing users positions thanks to different display modes. Communicate within the app or externally with complete freedom.",
                "section5.column1.h3Text": "Free",
                "section5.column1.li1Text": "All the buttons you want and unlimited users.",
                "section5.column1.li2Text": "Just help us to continue developing with a donation :)",
                "section5.column1.buttonText": "Donate",
                "section5.column2.h3Text": "Premium",
                "section5.column2.li1Text": "Unlock all customization options",
                "section5.column2.li2Text": "Use our servers capabilities",
                "section5.column2.li3Text": "Direct support from our crew",
                "section5.column2.buttonText": "Buy",
                "section6.h2Text": "Contribute with Translations",
                "section6.pText": "You can contribute by translating the app into your language. Every bit of help makes this tool more accessible and efficient.",
                "section6.buttonText": "Go to Server",
                "footer.link1": "Helpbuttons is a project by Wof!",
                "footer.link2": "Twitter",
                "footer.link3": "Github"
              }
            },
            es: {
                translation: {
                    "metaDescription": "Helpbuttons.org, coopera con el mundo. La herramienta de código abierto para crear redes colaborativas.",
                    "ogTitle": "Helpbuttons.org",
                    "ogDescription": "Helpbuttons.org, coopera con el mundo. La herramienta de código abierto para crear redes colaborativas.",
                    "title": "Helpbuttons",
                    "section1.normalText": "Esto es",
                    "section1.nameText": "Helpbuttons",
                    "section1.h2Text": "Crea tus propias herramientas colaborativas.",
                    "section1.buttonText": "Comenzar",
                    "section2.h2Text": "Ahorra dinero y tiempo",
                    "section2.pText": "Una herramienta gratuita y de código abierto diseñada para fomentar las redes colaborativas. Colabora y federa con grupos locales o establece conexiones globales, que abarcan varios campos. Comparte los recursos, los desarrollos y los logros de la comunidad, tanto a nivel local como global. Haz tu propio mercado online, asistencia para ancianos, compartir comida, compartir transporte, etc. con no esfuerzo.",
                    "section2.buttonText": "Probar Demo",
                    "section3.h1Text": "¿Desarrollador?",
                    "section3.h2Text": "Prueba el software en tu propio servidor",
                    "section3.buttonText": "Descargar",
                    "section4.column1.h3Text": "Organiza la cooperación",
                    "section4.column1.pText": "Establece una red adaptada a tu colectivo, que permite la publicación, asistencia, comunicación y organización de datos a través de una única herramienta.",
                    "section4.column2.h3Text": "Elige tu estilo",
                    "section4.column2.pText": "Selecciona tu método preferido de cooperación. Utiliza mapas, listas, estética de la aplicación y opciones de formulario que se ajusten a tus objetivos.",
                    "section4.column3.h3Text": "Mantén la privacidad",
                    "section4.column3.pText": "Coopera sin revelar las posiciones de los usuarios gracias a los diferentes modos de visualización. Comunícate dentro de la aplicación o externamente con total libertad.",
                    "section5.column1.h3Text": "Gratis",
                    "section5.column1.li1Text": "Todos los botones que quieras y usuarios ilimitados.",
                    "section5.column1.li2Text": "Solo ayúdanos a seguir desarrollando con una donación :)",
                    "section5.column1.buttonText": "Donar",
                    "section5.column2.h3Text": "Premium",
                    "section5.column2.li1Text": "Desbloquea todas las opciones de personalización",
                    "section5.column2.li2Text": "Utiliza las capacidades de nuestros servidores",
                    "section5.column2.li3Text": "Soporte directo de nuestro equipo",
                    "section5.column2.buttonText": "Comprar",
                    "section6.h2Text": "Contribuye con traducciones",
                    "section6.pText": "Puedes contribuir traduciendo la aplicación a tu idioma. Cada bit de ayuda hace que esta herramienta sea más accesible y eficiente.",
                    "section6.buttonText": "Ir al servidor",
                    "footer.link1": "¡Helpbuttons es un proyecto de Wof!",
                    "footer.link2": "Twitter",
                    "footer.link3": "Github"
                  }
            },
            pt: {
                translation: {
                  "metaDescription": "Helpbuttons.org, coopere com o mundo. A ferramenta opensource para criar redes colaborativas.",
                  "ogTitle": "Helpbuttons.org",
                  "ogDescription": "Helpbuttons.org, coopere com o mundo. A ferramenta opensource para criar redes colaborativas.",
                  "title": "Helpbuttons",
                  "section1.normalText": "Isto é",
                  "section1.nameText": "Helpbuttons",
                  "section1.h2Text": "Crie suas próprias ferramentas colaborativas.",
                  "section1.buttonText": "Começar",
                  "section2.h2Text": "Economize dinheiro e tempo",
                  "section2.pText": "Uma ferramenta gratuita e opensource projetada para fomentar redes colaborativas. Colabore e se una a grupos locais ou estabeleça conexões globais, abrangendo diversos campos. Compartilhe recursos comunitários, desenvolvimentos e conquistas, local e globalmente. Faça seu próprio mercado online, assistência para idosos, compartilhamento de alimentos, aplicativo de compartilhamento de transporte, etc., sem esforço.",
                  "section2.buttonText": "Experimente a Demo",
                  "section3.h1Text": "Desenvolvedor?",
                  "section3.h2Text": "Teste o software em seu próprio servidor",
                  "section3.buttonText": "Baixar",
                  "section4.column1.h3Text": "Organize a cooperação",
                  "section4.column1.pText": "Estabeleça uma rede adaptada ao seu coletivo, permitindo a publicação, assistência, comunicação e organização de dados através de uma única ferramenta.",
                  "section4.column2.h3Text": "Escolha seu estilo",
                  "section4.column2.pText": "Selecione seu método preferido de cooperação. Use mapas, listas, estética do aplicativo e opções de formulário que melhor atendam aos seus objetivos.",
                  "section4.column3.h3Text": "Mantenha a privacidade",
                  "section4.column3.pText": "Coopere sem revelar as posições dos usuários graças aos diferentes modos de exibição. Comunique-se dentro do aplicativo ou externamente com total liberdade.",
                  "section5.column1.h3Text": "Grátis",
                  "section5.column1.li1Text": "Todos os botões que você quiser e usuários ilimitados.",
                  "section5.column1.li2Text": "Apenas nos ajude a continuar desenvolvendo com uma doação :)",
                  "section5.column1.buttonText": "Doar",
                  "section5.column2.h3Text": "Premium",
                  "section5.column2.li1Text": "Desbloqueie todas as opções de personalização",
                  "section5.column2.li2Text": "Use as capacidades de nossos servidores",
                  "section5.column2.li3Text": "Suporte direto de nossa equipe",
                  "section5.column2.buttonText": "Comprar",
                  "section6.h2Text": "Contribua com traduções",
                  "section6.pText": "Você pode contribuir traduzindo o aplicativo para o seu idioma. Cada ajuda torna esta ferramenta mais acessível e eficiente.",
                  "section6.buttonText": "Ir para o servidor",
                  "footer.link1": "Helpbuttons é um projeto de Wof!",
                  "footer.link2": "Twitter",
                  "footer.link3": "Github"
                }
              }
          }
          
      }, function(err, t) {
        updateContent();
      });
      
      function updateContent() {
        document.querySelectorAll('[data-i18n]').forEach(function(element) {
          var key = element.getAttribute('data-i18n');
          var attr = 'innerHTML';
          if(element.nodeName === 'META' || element.nodeName === 'TITLE') {
            attr = 'content';
          }
          element[attr] = i18next.t(key);
        });
      }
      
      document.getElementById('lang-select').addEventListener('change', function(e) {
        i18next.changeLanguage(e.target.value, function() {
          updateContent();
        });
      });
      

  //.... cosas

    let currentSection = 0;
    const sections = document.querySelectorAll("section");
    const scrollButtons = document.querySelector('.scroll-down');

    function changeSection(index) {
        sections.forEach(section => {
            section.style.transform = `translateY(-${index * 100}vh)`;
            section.style.transition = 'transform 0.5s ease-in-out';
        });

        if (index === sections.length - 1) {
            scrollButtons.classList.add('hide');
        } else {
            scrollButtons.classList.remove('hide');
        }
    }

    document.addEventListener('keydown', function(event) {
        if (event.code === 'ArrowUp' && currentSection > 0) {
            currentSection--;
            changeSection(currentSection);
        } else if (event.code === 'ArrowDown' && currentSection < sections.length - 1) {
            currentSection++;
            changeSection(currentSection);
        }
    });

    // Mouse wheel event
    let lastScrollTime = new Date().getTime();

    document.addEventListener('wheel', function(event) {
        let currentTime = new Date().getTime();
        let waitTime = 1000;
        if (currentTime - lastScrollTime > waitTime) {
            lastScrollTime = currentTime;
            if (event.deltaY < 0 && currentSection > 0) {
                currentSection--;
                changeSection(currentSection);
            } else if (event.deltaY > 0 && currentSection < sections.length - 1) {
                currentSection++;
                changeSection(currentSection);
            }
        }
    });

    // Scroll-down arrow click event
    scrollButtons.addEventListener('click', function() {
        if (currentSection < sections.length - 1) {
            currentSection++;
            changeSection(currentSection);
        }
    });
    
});

